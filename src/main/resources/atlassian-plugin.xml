<?xml version="1.0" encoding="UTF-8"?>

<atlassian-plugin key="${atlassian.plugin.key}" name="${project.name}"
	plugins-version="2">

	<!-- Plug-in Information -->
	<plugin-info>
		<description>${project.description}</description>
		<version>${project.version}</version>
		<vendor name="${project.organization.name}" url="${project.organization.url}" />
		<param name="plugin-icon">images/pluginIcon.png</param>
		<param name="plugin-logo">images/pluginLogo.png</param>
	</plugin-info>

	<!-- Web Resources -->
	<web-resource key="stylesheet-and-icon-resources" name="Style Sheets and Icons">
		<description>Provides the style sheets and icons used in this plug-in.
		</description>
		<!-- icons -->
		<resource type="download" name="Add.png" location="/images/Add.png" />
		<resource type="download" name="Delete.png" location="/images/Delete.png" />
		<resource type="download" name="Open.png" location="/images/Open.png" />
		<resource type="download" name="Edit.png" location="/images/Edit.png" />
		<resource type="download" name="32px.png" location="/js/jstree/32px.png" />
		<resource type="download" name="40px.png" location="/js/jstree/40px.png" />
		<resource type="download" name="throbber.gif" location="/js/jstree/throbber.gif" />
		<!-- style sheets -->
		<resource type="download" name="treant.css" location="/css/treant.css" />
		<resource type="download" name="chart.css" location="/css/chart.css" />
		<resource type="download" name="editor.css" location="/css/editor.css" />
		<resource type="download" name="jquery.contextMenu.css"
			location="/css/jquery.contextMenu.css" />
		<resource type="download" name="jstree.css" location="/css/jstree.css" />
	</web-resource>
	<web-resource key="decision-documentation-resources" name="Java Script Resources">
		<description>Provides the Java Script files used in this plug-in.
		</description>
		<!-- treant -->
		<resource type="download" name="Treant.js" location="/js/treant_js/Treant.js" />
		<resource type="download" name="raphael.js" location="/js/treant_js/raphael.js" />
		<resource type="download" name="jquery.easing.js"
			location="/js/treant_js/jquery.easing.js" />
		<!-- jQuery -->
		<resource type="download" name="jquery.js" location="/js/jquery.js" />
		<!-- jstree -->
		<resource type="download" name="jstree.min.js" location="/js/jstree/jstree.min.js" />
		<!-- jquery.contextMenu -->
		<resource type="download" name="jquery.ui.position.js"
			location="/js/contextMenu/jquery.ui.position.js" />
		<resource type="download" name="jquery.contextMenu.js"
			location="/js/contextMenu/jquery.contextMenu.js" />
		<!-- DecDoc java script files -->
		<resource type="download" name="accordionview.decision.documentation.js"
			location="/js/accordionview.decision.documentation.js" />
		<resource type="download" name="treantview.decision.documentation.js"
			location="/js/treantview.decision.documentation.js" />
		<resource type="download" name="treeview.decision.documentation.js"
			location="/js/treeview.decision.documentation.js" />
		<resource type="download" name="java.communicator.js"
			location="/js/java.communicator.js" />
		<resource type="download" name="decision.documentation.js"
			location="/js/decision.documentation.js" />
	</web-resource>

	<!-- Decision Knowledge Page -->
	<web-item name="Link to the DecDoc Plug-in in Side Bar" key="side-bar-link"
		section="jira.project.sidebar.plugins.navigation" weight="1000">
		<description>Provides the "Decisions" link to the plug-in page in the
			project's navigation side bar.
		</description>
		<label>Decisions</label>
		<param name="iconClass" value="aui-icon aui-icon-small aui-iconfont-bp-decisions" />
		<link>/projects/$pathEncodedProjectKey?selectedItem=decisions-page
		</link>
		<condition
			class="de.uhd.ifi.se.decision.documentation.jira.config.IsActivated">
			<param name="projectKey" value="$pathEncodedProjectKey" />
		</condition>
	</web-item>
	<web-panel name="DecDoc Plug-in Page" key="decisions-page"
		location="decisions-page" weight="1000">
		<description>Provides the plug-in page that developers use to manage
			decision knowledge.
		</description>
		<resource name="view" type="velocity" location="templates/editor.vm" />
	</web-panel>
	<rest name="Decision Knowledge REST" key="decision-knowledge-rest"
		path="/decisions" version="1.0">
		<description>Provides REST resources to manage
			decision knowledge.
		</description>
	</rest>
	<rest key="treant-rest" name="Treant REST" path="/treantsrest"
		version="1.0">
		<description>Provides REST resources to build the Treant graph when
			selecting a single decision knowledge element.
		</description>
	</rest>
	<rest key="tree-viewer-rest" name="Tree Viewer REST" path="/treeviewerrest"
		version="1.0">
		<description>Provides REST resources to build the tree viewer (list of
			decision knowledge elements).
		</description>
	</rest>

	<!-- Administration -->
	<web-section key="decdoc-admin-section"
		name="Web Section for DecDoc Plug-in Administration" location="admin_plugins_menu">
		<description>Adds a section to the add-ons menu.</description>
	</web-section>
	<web-section key="decdoc-admin-section-label"
		name="Web Section Label for DecDoc Plug-in Administration" location="decdoc-admin-section">
		<label>Decisions</label>
		<description>Adds the "Decisions" label to the DecDoc section in the
			add-ons menu.
		</description>
	</web-section>
	<web-item key="decdoc-admin-menu-item" name="Menu Item for DecDoc Plug-in Administration"
		section="decdoc-admin-section/decdoc-admin-section-label" weight="10"
		application="jira">
		<description>Adds the "DecDoc" menu item that links to the
			administration page.
		</description>
		<label>DecDoc Settings</label>
		<link>/plugins/servlet/adminservlet</link>
	</web-item>
	<servlet key="admin-servlet" name="Administration Servlet"
		class="de.uhd.ifi.se.decision.documentation.jira.config.AdminServlet">
		<description>Provides the administration page.</description>
		<url-pattern>/adminservlet</url-pattern>
	</servlet>
	<rest key="admin-rest" name="Adminstration REST" path="/admin"
		version="1.0">
		<description>Provides REST resources for the administration.
		</description>
	</rest>
	<rest key="config" name="Configuration REST" path="/config"
		version="1.0">
		<description>Provides REST resources to configure the
			DecDoc plug-in.
		</description>
	</rest>

	<!-- Active Objects -->
	<ao key="ao-module" name="Active Objects Service">
		<description>Configures the Active Objects service that is used to
			persist decision knowledge with object relational mapping.
		</description>
		<entity>de.uhd.ifi.se.decision.documentation.jira.decisionknowledge.IDecisionKnowledgeElementEntity
		</entity>
		<entity>de.uhd.ifi.se.decision.documentation.jira.decisionknowledge.ILinkEntity
		</entity>
	</ao>
</atlassian-plugin>